{
  "$schema": "https://microsoft.github.io/chartifact/schema/idoc_v1.json",
  "title": "Seattle Weather",
  "dataLoaders": [
    {
      "type": "url",
      "url": "https://vega.github.io/editor/data/seattle-weather.csv",
      "dataSourceName": "seattle_weather",
      "format": "csv",
      "dataFrameTransformations": [
        {
          "type": "filter",
          "expr": "IncludeSun ? true : datum.weather != 'sun'"
        },
        {
          "type": "filter",
          "expr": "IncludeFog ? true : datum.weather != 'fog'"
        },
        {
          "type": "filter",
          "expr": "IncludeDrizzle ? true : datum.weather != 'drizzle'"
        },
        {
          "type": "filter",
          "expr": "IncludeRain ? true : datum.weather != 'rain'"
        },
        {
          "type": "filter",
          "expr": "IncludeSnow ? true : datum.weather != 'snow'"
        },
        {
          "type": "filter",
          "expr": "datum.wind >= MinWind && datum.wind <= MaxWind"
        }
      ]
    }
  ],
  "variables": [
    {
      "variableId": "IncludeSun",
      "type": "boolean",
      "initialValue": true
    },
    {
      "variableId": "IncludeFog",
      "type": "boolean",
      "initialValue": true
    },
    {
      "variableId": "IncludeDrizzle",
      "type": "boolean",
      "initialValue": true
    },
    {
      "variableId": "IncludeRain",
      "type": "boolean",
      "initialValue": true
    },
    {
      "variableId": "IncludeSnow",
      "type": "boolean",
      "initialValue": true
    },
    {
      "variableId": "MinWind",
      "type": "number",
      "initialValue": 0
    },
    {
      "variableId": "MaxWind",
      "type": "number",
      "initialValue": 30
    }
  ],
  "groups": [
    {
      "groupId": "main",
      "elements": [
        "# Seattle Weather",
        {
          "type": "checkbox",
          "label": "Include Sun:",
          "variableId": "IncludeSun"
        },
        {
          "type": "checkbox",
          "label": "Include Fog:",
          "variableId": "IncludeFog"
        },
        {
          "type": "checkbox",
          "label": "Include Drizzle:",
          "variableId": "IncludeDrizzle"
        },
        {
          "type": "checkbox",
          "label": "Include Rain:",
          "variableId": "IncludeRain"
        },
        {
          "type": "checkbox",
          "label": "Include Snow:",
          "variableId": "IncludeSnow"
        },
        {
          "type": "slider",
          "label": "Min Wind:",
          "variableId": "MinWind",
          "min": 0,
          "max": 30,
          "step": 1
        },
        {
          "type": "slider",
          "label": "Max Wind:",
          "variableId": "MaxWind",
          "min": 0,
          "max": 30,
          "step": 1
        },
        "Presets allow you to go pre-chosen values:",
        {
          "type": "presets",
          "presets": [
            {
              "name": "Basic Gloom",
              "state": {
                "IncludeSun": false,
                "IncludeFog": true,
                "IncludeDrizzle": true,
                "IncludeRain": false,
                "IncludeSnow": false,
                "MinWind": 0,
                "MaxWind": 5
              }
            },
            {
              "name": "reset",
              "state": {
                "MinWind": 0,
                "MaxWind": 30,
                "IncludeSun": true,
                "IncludeFog": true,
                "IncludeDrizzle": true,
                "IncludeRain": true,
                "IncludeSnow": true
              }
            },
            {
              "name": "sunny and calm",
              "state": {
                "IncludeSun": true,
                "IncludeFog": false,
                "IncludeDrizzle": false,
                "IncludeRain": false,
                "IncludeSnow": false,
                "MinWind": 0,
                "MaxWind": 5
              }
            },
            {
              "name": "stormy weather",
              "state": {
                "IncludeSun": false,
                "IncludeFog": false,
                "IncludeDrizzle": true,
                "IncludeRain": true,
                "IncludeSnow": true,
                "MinWind": 5,
                "MaxWind": 30
              }
            },
            {
              "name": "just snow",
              "state": {
                "IncludeSun": false,
                "IncludeFog": false,
                "IncludeDrizzle": false,
                "IncludeRain": false,
                "IncludeSnow": true,
                "MinWind": 0,
                "MaxWind": 10
              }
            }
          ]
        },
        "Data table:",
        {
          "type": "tabulator",
          "dataSourceName": "seattle_weather"
        },
        "Here is a stacked bar chart of Seattle weather:\nEach bar represents the count of weather types for each month.\nThe colors distinguish between different weather conditions such as sun, fog, drizzle, rain, and snow.",
        {
          "type": "chart",
          "chartKey": "1"
        },
        "This section introduces a heatmap visualization for the Seattle weather dataset.\nThe heatmap is designed to display the distribution and intensity of weather-related variables,\nsuch as temperature, precipitation, or frequency of weather events, across different time periods or categories.\nIt provides an intuitive way to identify patterns, trends, and anomalies in the dataset.",
        {
          "type": "chart",
          "chartKey": "2"
        }
      ]
    }
  ],
  "resources": {
    "charts": {
      "1": {
        "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
        "data": {
          "name": "seattle_weather"
        },
        "mark": "bar",
        "encoding": {
          "x": {
            "timeUnit": "month",
            "field": "date",
            "type": "ordinal",
            "title": "Month of the year"
          },
          "y": {
            "aggregate": "count",
            "type": "quantitative"
          },
          "color": {
            "field": "weather",
            "type": "nominal",
            "scale": {
              "domain": [
                "sun",
                "fog",
                "drizzle",
                "rain",
                "snow"
              ],
              "range": [
                "#e7ba52",
                "#c7c7c7",
                "#aec7e8",
                "#1f77b4",
                "#9467bd"
              ]
            },
            "title": "Weather type"
          }
        }
      },
      "2": {
        "$schema": "https://vega.github.io/schema/vega-lite/v6.json",
        "data": {
          "name": "seattle_weather"
        },
        "title": "Daily Max Temperatures (C) in Seattle, WA",
        "config": {
          "view": {
            "strokeWidth": 0,
            "step": 13
          },
          "axis": {
            "domain": false
          }
        },
        "mark": "rect",
        "encoding": {
          "x": {
            "field": "date",
            "timeUnit": "date",
            "type": "ordinal",
            "title": "Day",
            "axis": {
              "labelAngle": 0,
              "format": "%e"
            }
          },
          "y": {
            "field": "date",
            "timeUnit": "month",
            "type": "ordinal",
            "title": "Month"
          },
          "color": {
            "field": "temp_max",
            "aggregate": "max",
            "type": "quantitative",
            "legend": {
              "title": null
            }
          }
        }
      }
    }
  }
}